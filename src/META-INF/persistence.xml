<?xml version="1.0" encoding="UTF-8"?>
<persistence xmlns="http://www.appserver.io/appserver">

    <persistenceUnits>

        <persistenceUnit name="ExampleEntityManager"
            interface="Doctrine\ORM\EntityManagerInterface"
            type="Doctrine\ORM\EntityManager"
            factory="AppserverIo\Appserver\PersistenceContainer\Doctrine\EntityManagerFactory">
            
            <metadataConfiguration type="annotation">
                <directories>
                    <directory>${webapp.dir}/common/classes/AppserverIo/Apps/Example/Entities/Impl</directory>
                </directories>
                <params>
                    <param name="isDevMode" type="boolean">false</param>
                    <param name="autoGenerateProxyClasses" type="boolean">true</param>
                    <param name="useSimpleAnnotationReader" type="boolean">false</param>
                    <param name="proxyDir" type="string">${webapp.cache.dir}</param>
                    <param name="proxyNamespace" type="string">AppserverIo\Apps\Example</param>
                </params>
            </metadataConfiguration>

            <queryCacheConfiguration factory="AppserverIo\Appserver\PersistenceContainer\Doctrine\CacheFactory\ApcCacheFactory" />
            <resultCacheConfiguration factory="AppserverIo\Appserver\PersistenceContainer\Doctrine\CacheFactory\ApcCacheFactory" />
            <metadataCacheConfiguration factory="AppserverIo\Appserver\PersistenceContainer\Doctrine\CacheFactory\ApcCacheFactory" />

            <datasource name="appserver.io-example-application"/>

            <annotationRegistries>
                <annotationRegistry namespace="JMS\Serializer\Annotation">
                    <directories>
                        <directory>${webapp.dir}/vendor/jms/serializer/src</directory>
                    </directories>
                </annotationRegistry>
            </annotationRegistries>

        </persistenceUnit>

    </persistenceUnits>

</persistence>